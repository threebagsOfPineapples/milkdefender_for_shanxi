package com.magispec.shield.ble;

import java.io.FileNotFoundException;
import libsvm.svm;
import libsvm.svm_model;
import libsvm.svm_node;

public class Svm_predict {
	public static String predict(double[] vec) {
		svm_model model = null;
		try {
			model = svm.svm_load_model("//data/data//com.magispec.milkdefender//files//model.model");
			System.out.println("11111111");
		} catch (FileNotFoundException e) {
			System.out.println("model file not found");
			e.printStackTrace();
		} catch (Exception e) {
			e.printStackTrace();
			System.exit(-1);
		}
		String[] label = { "7613035260276", "7613035260207", "7613035260146", "345707055022", "6949756320205",
				"6949756330211", "8718117601752", "8718117602827", "8718117605125", "7795323002420", "7795323002437",
				"7795323002444", "8712400110136", "8712400110020", "8712400110037", "4008976526834", "4008976527572",
				"4008976527589", "4005500063452", "7613033039089", "7613033039607", "6917878020099", "6917878020136",
				"6917878026060", "6916457002273", "6916457002303", "6916457002334", "6922244700048", "6922244700055",
				"6922244700093", "6932904709113", "6932904709243", "6932904709847", "8716200709187", "8716200712071",
				"8716200710398", "6904591003201", "6904591009807", "6941555716639", "6904591001672", "6904591001689",
				"6904591002600", "6908588106265", "6908588106395", "6908588106401", "6907992631493", "6907992631509",
				"6907992631516" };
		// double[] data_min = {
		// 28084.5,-0.0279852,-0.0285575,-0.0253841,-0.0243541,-0.0211435,-0.016141,-0.0182794,-0.0152278,-0.0152561,-0.0126793,-0.0103993,-0.00814811,-0.00685876,-0.00691581,-0.00431231,-0.00175221,-0.00103406,0.00184587,0.00417361,0.00454458,0.00444603,0.00536003,0.00331499,0.00291637,0.00178855,-0.000375183,-0.00130556,-0.00165944,-0.00644788,-0.00718544,-0.0100563,-0.0137673,-0.0129758,-0.0165374,-0.0191537,-0.0177394,-0.0180834,-0.0180368,-0.017864,-0.018995,-0.0151604,-0.0161171,-0.0143739,-0.0123913,-0.0103076,-0.00818887,-0.00764847,-0.00595345,-0.00470534,-0.00274395,-0.00182977,-0.00132534,-0.00241758,-0.00533825,-0.00310132,-0.00227476,-0.00240554,-0.00568016,0.000537097,-0.000326753,0.000135399,-0.192917
		// };
		// double[] data_max = {
		// 52974,0.000915139,-0.00492195,0.000255003,0.00373374,0.00605837,0.00749014,0.00962269,0.00943048,0.0128878,0.00566108,0.0197298,0.0099832,0.0104115,0.0133901,0.0158607,0.0177621,0.0164693,0.0166654,0.0176526,0.0180706,0.0171663,0.0171742,0.0171247,0.016592,0.0129532,0.0132898,0.00851814,0.00731507,0.003126,0.00113183,0.00105505,-0.00260224,-0.00204187,-0.00550715,-0.00429245,-0.005548,-0.00432424,-0.0044188,-0.00390987,-0.00217907,-0.000624749,0.000161552,0.00118781,0.00160195,0.0062931,0.00741367,0.00648624,0.00876429,0.0108622,0.0108104,0.0111383,0.0110921,0.0124474,0.0131911,0.0152057,0.0162964,0.0149406,0.0170923,0.0149963,0.0167147,0.0164085,0.42849
		// };
		// double[]data_max={52974,0.000946869,-0.00489018,0.000286739,0.00376544,0.00609008,0.00752185,0.00965437,0.00946218,0.0129195,0.00571472,0.0197835,0.0090353,0.010108,0.0130717,0.0160802,0.0179832,0.0168791,0.0168571,0.017846,0.0181323,0.0169648,0.0174151,0.0174063,0.016833,0.0131088,0.0135307,0.00833706,0.00741024,0.00315196,0.00275722,0.000902463,-0.00271795,-0.00180098,-0.00531667,-0.00412482,-0.00537008,-0.00433002,-0.00431429,-0.00394204,-0.0022881,-0.000733815,0.000219138,0.00115052,0.00156037,0.00635688,0.00727013,0.00656148,0.00877577,0.01089,0.0107039,0.0110051,0.0111225,0.0123432,0.013087,0.0151015,0.0163103,0.0149923,0.016988,0.0149563,0.0166104,0.0163043,0.428246};
		// double[]data_min={28084.5,-0.0277444,-0.0286058,-0.0255015,-0.0241133,-0.0209028,-0.0161943,-0.0180386,-0.014987,-0.0150153,-0.0124385,-0.0101585,-0.00790728,-0.00661791,-0.00667497,-0.00407143,-0.00151132,-0.000793181,0.00177385,0.0042261,0.00440315,0.00463606,0.00538806,0.00324961,0.00244268,0.00191139,-0.000388253,-0.00124733,-0.00148607,-0.00726143,-0.00715378,-0.0100246,-0.0137356,-0.0127128,-0.0177314,-0.019201,-0.0174469,-0.0184533,-0.0176127,-0.0175888,-0.0185373,-0.0146294,-0.0158559,-0.0140307,-0.0111836,-0.010076,-0.00789018,-0.00772073,-0.00566919,-0.00449859,-0.00246581,-0.00189872,-0.00119336,-0.00221448,-0.00499143,-0.00275457,-0.00192841,-0.00197308,-0.00524774,0.000903806,1.8963e-005,0.000481608,-0.192824};
		//// double
		// []data_max={52974,0.00106143,-0.00230917,0.00179606,0.00543024,0.00780762,0.00853943,0.0105724,0.0109746,0.0141577,0.00652501,0.0214543,0.00951313,0.0111022,0.0123994,0.0167399,0.0180725,0.0165043,0.0159534,0.0170631,0.0173957,0.0150444,0.0148036,0.0145441,0.0141289,0.0116254,0.0127563,0.00738283,0.00486569,0.00207583,-0.000278204,-0.00153961,-0.00253441,-0.00352987,-0.00536529,-0.00511173,-0.00511774,-0.00475637,-0.0047844,-0.00391906,-0.00489844,-0.00155671,-0.000182078,-0.000422025,0.00154628,0.00423638,0.00614876,0.00638078,0.00879374,0.00832072,0.00993259,0.0104886,0.0101378,0.0116971,0.0116019,0.0111777,0.0131477,0.0136725,0.0124758,0.012585,0.0154678,0.0134213,0.428246};
		//// double
		// []data_min={38478,-0.0276299,-0.0257357,-0.023634,-0.0224486,-0.0191852,-0.0148826,-0.0171205,-0.0134746,-0.013777,-0.0116282,-0.00848765,-0.00721465,-0.00539158,-0.00566169,-0.00341793,-0.00142203,-0.0011679,0.00346598,0.00543444,0.0044263,0.0034793,0.00383721,0.00374455,0.00210344,0.00205729,0.00064646,-0.00188163,-0.00371512,-0.00518473,-0.00875385,-0.0106524,-0.0129174,-0.014138,-0.0156806,-0.0177895,-0.0171945,-0.0182444,-0.0168196,-0.0161348,-0.0178634,-0.0145417,-0.0143905,-0.013556,-0.0110629,-0.00892101,-0.00828064,-0.00626391,-0.00563853,-0.00451978,-0.00273331,-0.0012824,-0.00105891,-0.00170707,0.000442555,-3.03494e-005,0.00170856,-0.00238009,-0.0070055,-0.000606972,0.00373405,0.00288626,-0.0612582};
		double[] data_max = { 50513, -0.00620843, -0.00619903, -0.00539391, -0.00639134, -0.00555867, -0.00359123,
				-0.00492861, -0.00372172, -0.00309232, -0.00218704, -0.00187627, -0.00150091, -0.00104068, -0.00139863,
				-0.00107114, -0.000598516, -0.000402501, 0.000992973, 0.000984733, 0.000481229, 0.000815518, 0.00272873,
				0.00337166, 0.00372899, 0.00297262, 0.00294953, 0.00330705, 0.00378589, 0.00441404, 0.00516373,
				0.0050731, 0.00505534, 0.00585578, 0.00674807, 0.00633896, 0.00731367, 0.00725352, 0.00760649,
				0.00796687, 0.00864695, 0.008078, 0.00819123, 0.00809513, 0.0084629, 0.0100558, 0.010952, 0.0105884,
				0.00973698, 0.00976357, 0.0103286, 0.0110853, 0.0103096, 0.011391, 0.010726, 0.0111566, 0.0120623,
				0.0110595, 0.0123767, 0.0118342, 0.0115251, 0.0119153, 0.0123493, 0.013484, 0.0127071, 0.0137374,
				0.0127225, 0.0129239, 0.0135013, 0.0133004, 0.0134016, 0.0129516, 0.0137487, 0.01346, 0.014805,
				0.0135699, 0.014002, 0.0133616, 0.015373, 0.0133749, 0.0142857, 0.0139244, 0.014966, 0.0146556,
				0.0139768, 0.0148414, 0.0143374, 0.0146093, 0.0140184, 0.014859, 0.0143572, 0.0144277, 0.0140068,
				0.0131996, 0.0143634, 0.0135235, 0.0144201, 0.01384, 0.014671, 0.013639, 0.0152305, 0.0139504,
				0.0136282, 0.013377, 0.0131278, 0.0129413, 0.0135609, 0.0148038, 0.0147589, 0.0123676, 0.0123333,
				0.0133525, 0.0126856, 0.0135291, 0.0118125, 0.0124572, 0.0114731, 0.0114911, 0.0124773, 0.0110705,
				0.012753, 0.011675, 0.0103974, 0.0106089, 0.0094202, 0.00956012, 0.0100275, 0.00996698, 0.00828135,
				0.00777497, 0.00821021, 0.00827393, 0.00633702, 0.00746364, 0.00542608, 0.00517478, 0.00528139,
				0.00517101, 0.00451175, 0.00315354, 0.00233991, 0.00294437, 0.00226844, 0.00220322, 0.000809443,
				0.000225442, 0.000923152, -0.000290656, 0.000436571, -0.00105244, -0.000232688, -0.00169524,
				-0.00194959, -0.00242618, -0.00247127, -0.00357838, -0.0044054, -0.00397602, -0.00483824, -0.00428928,
				-0.00383317, -0.00580919, -0.00625433, -0.00553722, -0.00619563, -0.00621934, -0.00731065, -0.00690364,
				-0.0065952, -0.00662428, -0.00717626, -0.00587839, -0.00700631, -0.00770722, -0.00815706, -0.00830234,
				-0.00780182, -0.00849737, -0.00611698, -0.00738011, -0.00845575, -0.00771897, -0.00645455, -0.00872529,
				-0.00687384, -0.0067583, -0.00681167, -0.0063642, -0.00699618, -0.00616246, -0.00734372, -0.00581103,
				-0.00596645, -0.00516541, -0.00536234, -0.00539106, -0.00450968, -0.00374178, -0.00521517, -0.00426713,
				-0.00365221, -0.00306201, -0.00310529, -0.00320493, -0.00300487, -0.00281407, -0.00260151, -0.00138892,
				-0.000980282, -0.000781586, -0.000506203, -2.41147e-005, 0.00113674, 0.000595612, 0.000455147,
				0.000139607, 0.00146172, 0.00101245, 0.00137959, 0.000830362, 0.00301358, 0.00348273, 0.00277282,
				0.00246524, 0.00392713, 0.00357529, 0.00363333, 0.00499278, 0.00347598, 0.00490323, 0.00543348,
				0.00623965, 0.00553949, 0.00532798, 0.00567873, 0.00662688, 0.00597355, 0.00652392, 0.00580297,
				0.00578762, 0.00651994, 0.00757218, 0.0061569, 0.00689839, 0.00731294, 0.00602113, 0.00653836,
				0.00810183, 0.00726844, 0.0079477, 0.00733932, 0.00744366, 0.0082762, 0.00754135, 0.00807679, 0.0075167,
				0.00794955, 0.00689877, 0.00823893, 0.00792927, 0.00862051, 0.00815552, 0.00752329, 0.00731319,
				0.00938982, 0.00890703, 0.00837883, 0.00828654, 0.009304, 0.00884189, 0.00981621, 0.00923641,
				0.00889392, 0.00890828, 0.0095727, 0.00993505, 0.00956995, 0.00988707, 0.00962483, 0.0094102, 0.010609,
				0.0104835, 0.00925716, 0.00926468, 0.0102887, 0.0104816, 0.011389, 0.0105124, 0.0110635, 0.0107384,
				0.0108883, 0.0106109, 0.0114607, 0.0110707, 0.0116453, 0.0117859, 0.0118906, 0.012078, 0.0105291,
				0.0108417, 0.011488, 0.0120176, 0.428063 };
		double[] data_min = { 40346, -0.0185702, -0.0181939, -0.0174893, -0.018538, -0.0172931, -0.0161596, -0.0170104,
				-0.01556, -0.0144215, -0.0142106, -0.014304, -0.0139176, -0.013773, -0.014262, -0.0134161, -0.0130109,
				-0.0122269, -0.0109144, -0.0113602, -0.0117219, -0.0118047, -0.00997487, -0.00952793, -0.00886803,
				-0.00970828, -0.00947664, -0.00973335, -0.00847147, -0.00757282, -0.00730307, -0.0073527, -0.00788697,
				-0.00640707, -0.00576681, -0.00603451, -0.00562767, -0.0048393, -0.00536782, -0.00495543, -0.00358944,
				-0.00427102, -0.00495083, -0.00413798, -0.00451322, -0.00282634, -0.00171531, -0.00227076, -0.0024283,
				-0.00254984, -0.00222702, -0.000830825, -0.00236409, -0.00107534, -0.000735045, -0.00133778,
				-0.000236073, -0.00108856, -0.000238795, -0.000925122, -0.000322182, -0.000371661, 1.63102e-005,
				0.00129812, 0.000452917, 0.000869213, 0.00103505, 0.00128783, 0.00190993, 0.00205334, 0.0014432,
				0.00141858, 0.00251323, 0.00183011, 0.00339539, 0.00210958, 0.00261813, 0.00121979, 0.00371586,
				0.00217479, 0.00292462, 0.00247051, 0.00368504, 0.00420148, 0.00263007, 0.00381017, 0.00319824,
				0.00319469, 0.0032194, 0.0042172, 0.00352724, 0.00296937, 0.00320612, 0.00235766, 0.00372299,
				0.00294311, 0.00368798, 0.00339815, 0.00375429, 0.00323964, 0.00451406, 0.00385213, 0.00347301,
				0.00352045, 0.00330766, 0.00346985, 0.00359431, 0.00499497, 0.00419851, 0.00278338, 0.00266064,
				0.00438661, 0.00347725, 0.00417324, 0.00301993, 0.00303412, 0.00288968, 0.00252514, 0.00322815,
				0.00239444, 0.00425446, 0.00340842, 0.00191798, 0.0024252, 0.00199522, 0.00166854, 0.00148982,
				0.00147119, 0.000204687, 0.000325514, -0.000427176, 0.00103454, -0.000528653, 0.000443657, -0.00159373,
				-0.00156541, -0.00162891, -0.00211199, -0.00239175, -0.00268978, -0.00382562, -0.00422768, -0.00403201,
				-0.00462481, -0.00527326, -0.00617762, -0.00582278, -0.00636117, -0.00533576, -0.00792855, -0.00655027,
				-0.00857129, -0.00955122, -0.00984871, -0.00950767, -0.0107225, -0.0120746, -0.0112716, -0.0118365,
				-0.0121642, -0.011712, -0.0142179, -0.014221, -0.0130967, -0.0142322, -0.0145331, -0.0153805, -0.015424,
				-0.015043, -0.0157293, -0.016445, -0.0154956, -0.0168022, -0.0173008, -0.0173509, -0.0171638,
				-0.0167511, -0.017953, -0.0162312, -0.0168275, -0.0180277, -0.0174227, -0.0165151, -0.0188441,
				-0.016939, -0.017692, -0.0166378, -0.0165413, -0.0168374, -0.0171316, -0.0180538, -0.0164416,
				-0.0167834, -0.0158283, -0.0160886, -0.0158042, -0.0159985, -0.0141838, -0.0153223, -0.0151955,
				-0.0147996, -0.0142657, -0.0135196, -0.0139353, -0.0138035, -0.0140867, -0.0145003, -0.0124663,
				-0.0122988, -0.0123623, -0.011609, -0.0116029, -0.0100838, -0.0107057, -0.0109668, -0.0109045,
				-0.00984464, -0.0108045, -0.0103351, -0.0104457, -0.00882293, -0.00850086, -0.00875429, -0.00918838,
				-0.00805121, -0.00793433, -0.0079681, -0.00653265, -0.00820933, -0.00688516, -0.00686081, -0.00592782,
				-0.00593413, -0.00706632, -0.00631899, -0.00602496, -0.00640837, -0.00534273, -0.00559006, -0.00639895,
				-0.00518899, -0.00455456, -0.00605861, -0.00443873, -0.00436721, -0.00618543, -0.00545361, -0.00363624,
				-0.00472685, -0.00365198, -0.00444777, -0.00427523, -0.00369895, -0.00437134, -0.00405423, -0.00418881,
				-0.00423288, -0.00447969, -0.00386329, -0.00316585, -0.00364845, -0.0038774, -0.00455908, -0.00432067,
				-0.00270567, -0.00321645, -0.00350759, -0.00312133, -0.00246688, -0.00239601, -0.0016811, -0.00241395,
				-0.00245997, -0.00276188, -0.00215295, -0.00179126, -0.00215293, -0.00150769, -0.00255872, -0.00238111,
				-0.00125136, -0.0012886, -0.00188458, -0.00240146, -0.000953125, -0.00183981, -0.00102564, -0.00127626,
				-0.000704965, -0.000457244, -0.00096092, -0.00124419, -0.00148614, -0.000490442, -0.00047045,
				-0.000551831, -0.000296999, 3.60323e-005, -0.00174082, -0.000595372, -6.34403e-005, 0.000593708,
				-0.0483304 };
		int m = 303;

		if (m != vec.length) {
			System.out.println("error input dim");
		}
		svm_node[] x = new svm_node[m];
		for (int j = 0; j < m; j++) {
			x[j] = new svm_node();
			x[j].index = j + 1;
			x[j].value = 2 * (vec[j] - data_min[j]) / (data_max[j] - data_min[j]) - 1;
		}
		double v = svm.svm_predict(model, x);
		System.out.println("v的值" + v);
		return label[(int) v - 1];
	}

}
